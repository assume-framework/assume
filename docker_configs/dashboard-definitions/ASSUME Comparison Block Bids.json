{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": 5,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "",
      "gridPos": {
        "h": 4,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 4,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# Welcome to our ASSUME demo\n\nThis is the Grafana Dashboard which makes interacting with the simulation data very easy.",
        "mode": "markdown"
      },
      "pluginVersion": "9.2.15",
      "title": "Overview Dashboard",
      "type": "text"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 4
      },
      "id": 30,
      "panels": [],
      "title": "Market Data",
      "type": "row"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "gridPos": {
        "h": 3,
        "w": 24,
        "x": 0,
        "y": 5
      },
      "id": 17,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# Market-specific Data\n\nData specific for the market depending on the choice made at te top of the panel\n\n",
        "mode": "markdown"
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": false,
          "rawSql": "SELECT\n  product_start AS \"time\",\n  supply_volume\nFROM market_meta\nWHERE\n  $__timeFilter(product_start)\nORDER BY 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "supply_volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_meta",
          "timeColumn": "product_start",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "type": "text"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Overview of market results for the chossen market",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "left",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 1,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "stepBefore",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "megwatt"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "Volume"
            },
            "properties": [
              {
                "id": "custom.axisPlacement",
                "value": "right"
              },
              {
                "id": "unit",
                "value": "MWh"
              },
              {
                "id": "custom.axisCenteredZero",
                "value": false
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "Price"
            },
            "properties": [
              {
                "id": "custom.axisPlacement",
                "value": "left"
              },
              {
                "id": "unit",
                "value": "EUR/MWh"
              },
              {
                "id": "custom.axisCenteredZero",
                "value": false
              }
            ]
          },
          {
            "__systemRef": "hideSeriesFrom",
            "matcher": {
              "id": "byNames",
              "options": {
                "mode": "exclude",
                "names": [
                  "Price 2020_RL_dam_BB_summer_newLearning",
                  "Price 2020_SB_dam",
                  "Price 2020_RL_dam_LB_summer_newLearning"
                ],
                "prefix": "All except:",
                "readOnly": true
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 24,
        "x": 0,
        "y": 8
      },
      "id": 77,
      "maxPerRow": 4,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "mean",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "timezone": [
          ""
        ],
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "repeatDirection": "h",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  product_start AS \"time\",\n  simulation as \"simulation\",\n  supply_volume AS \"Supply Volume\"\nFROM market_meta\nWHERE $__timeFilter(product_start) and\n  simulation in ($simulation)\nGROUP BY simulation, product_start, supply_volume\nORDER BY 1\n",
          "refId": "Volume",
          "select": [
            [
              {
                "params": [
                  "supply_volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_meta",
          "timeColumn": "product_start",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  product_start AS \"time\",\n  simulation as \"simulation\",\n  price AS \"Price\"\nFROM market_meta\nWHERE $__timeFilter(product_start) and\n  simulation in ($simulation)\nGROUP BY simulation, product_start, price\nORDER BY 1\n",
          "refId": "Price",
          "select": [
            [
              {
                "params": [
                  "supply_volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_meta",
          "timeColumn": "product_start",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Market Summary EOM",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Bid prices of accepted bids per unit in the chosen market",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "stepBefore",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "€/MW"
        },
        "overrides": [
          {
            "__systemRef": "hideSeriesFrom",
            "matcher": {
              "id": "byNames",
              "options": {
                "mode": "exclude",
                "names": [
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"Biomass\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"Biomass\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"Biomass\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"Hydro\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"Hydro\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"Hydro\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"Solar\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"Solar\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"Solar\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"Wind offshore\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"Wind offshore\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"Wind offshore\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"Wind onshore\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"Wind onshore\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"Wind onshore\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"battery_unit\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"battery_unit\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"battery_unit\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"coal_unit\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"coal_unit\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"coal_unit\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"combined_gas_unit\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"combined_gas_unit\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"combined_gas_unit\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"import_unit\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"import_unit\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"import_unit\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"lignite_unit\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"lignite_unit\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"lignite_unit\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"nuclear_unit\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"nuclear_unit\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"nuclear_unit\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"oil_unit\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"oil_unit\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"oil_unit\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"open_gas_unit\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"open_gas_unit\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"open_gas_unit\"}",
                  "  {simulation=\"2020_RL_dam_BB_winter_newLearning\", unit_id=\"storage_unit\"}",
                  "  {simulation=\"2020_RL_dam_LB_winter_newLearning\", unit_id=\"storage_unit\"}",
                  "  {simulation=\"2020_RL_dam_SB_winter_newLearning\", unit_id=\"storage_unit\"}",
                  "MCP {simulation=\"2020_RL_dam_BB_winter_newLearning\"}",
                  "MCP {simulation=\"2020_RL_dam_LB_winter_newLearning\"}",
                  "MCP {simulation=\"2020_RL_dam_SB_winter_newLearning\"}"
                ],
                "prefix": "All except:",
                "readOnly": true
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 24,
        "x": 0,
        "y": 20
      },
      "id": 19,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [
            {
              "params": [
                "$__interval",
                "none"
              ],
              "type": "time"
            },
            {
              "params": [
                "unit_id"
              ],
              "type": "column"
            }
          ],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  start_time as \"time\",\n  sum(round(CAST(price AS numeric), 2)) FILTER(where accepted_volume != 0) AS \" \",\n  unit_id AS \"unit_id\",\n  simulation as \"simulation\"\nFROM market_orders\nWHERE\n  $__timeFilter(start_time) AND\n  simulation in ($simulation) AND\n  unit_id not in ('', ' ')\nGROUP BY 1, unit_id, start_time, price, simulation\nORDER BY 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "price"
                ],
                "type": "column"
              },
              {
                "params": [
                  "avg"
                ],
                "type": "aggregate"
              },
              {
                "params": [
                  "price"
                ],
                "type": "alias"
              }
            ],
            [
              {
                "params": [
                  "unit_id"
                ],
                "type": "column"
              },
              {
                "params": [
                  "unit_id"
                ],
                "type": "alias"
              }
            ]
          ],
          "table": "market_orders",
          "timeColumn": "start_time",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            },
            {
              "datatype": "text",
              "name": "",
              "params": [
                "market_id",
                "=",
                "'$market'"
              ],
              "type": "expression"
            },
            {
              "datatype": "text",
              "name": "",
              "params": [
                "simulation",
                "=",
                "'$simulation'"
              ],
              "type": "expression"
            }
          ]
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  product_start as \"time\",\n  price as \"MCP\",\n  simulation as \"simulation\"\nFROM market_meta\nWHERE\n  $__timeFilter(product_start) AND\n  simulation in ($simulation)\nGroup by 1, product_start, price, simulation\nORDER BY 1\n",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Accepted Bid Prices",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Bid prices of accepted bids per unit in the chosen market",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "h"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 11,
        "w": 24,
        "x": 0,
        "y": 28
      },
      "id": 126,
      "options": {
        "barRadius": 0,
        "barWidth": 0.93,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "horizontal",
        "showValue": "auto",
        "stacking": "none",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [
            {
              "params": [
                "$__interval",
                "none"
              ],
              "type": "time"
            },
            {
              "params": [
                "unit_id"
              ],
              "type": "column"
            }
          ],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(price) filter(where accepted_price = price and accepted_volume != 0)  AS \"price\",\n  unit_id AS \"unit_id\",\n  simulation as \"simulation\"\nFROM market_orders\nWHERE\n  $__timeFilter(start_time) AND\n  simulation in ($simulation) AND\n  unit_id not in ('', ' ')\nGROUP BY unit_id, simulation\nORDER BY unit_id",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "price"
                ],
                "type": "column"
              },
              {
                "params": [
                  "avg"
                ],
                "type": "aggregate"
              },
              {
                "params": [
                  "price"
                ],
                "type": "alias"
              }
            ],
            [
              {
                "params": [
                  "unit_id"
                ],
                "type": "column"
              },
              {
                "params": [
                  "unit_id"
                ],
                "type": "alias"
              }
            ]
          ],
          "table": "market_orders",
          "timeColumn": "start_time",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            },
            {
              "datatype": "text",
              "name": "",
              "params": [
                "market_id",
                "=",
                "'$market'"
              ],
              "type": "expression"
            },
            {
              "datatype": "text",
              "name": "",
              "params": [
                "simulation",
                "=",
                "'$simulation'"
              ],
              "type": "expression"
            }
          ]
        }
      ],
      "title": "Price setting units",
      "transformations": [],
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Accepted Volume  per unit in chosen market",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "stepBefore",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "megwatt"
        },
        "overrides": [
          {
            "__systemRef": "hideSeriesFrom",
            "matcher": {
              "id": "byNames",
              "options": {
                "mode": "exclude",
                "names": [
                  "  {simulation=\"2020_LB_dam\", unit_id=\"open_gas_unit\"}"
                ],
                "prefix": "All except:",
                "readOnly": true
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 24,
        "x": 0,
        "y": 39
      },
      "id": 20,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [
            {
              "params": [
                "$__interval",
                "none"
              ],
              "type": "time"
            },
            {
              "params": [
                "unit_id"
              ],
              "type": "column"
            }
          ],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  start_time as \"time\",\n  sum(accepted_volume) AS \" \",\n  unit_id AS \"unit_id\",\n  simulation as \"simulation\"\nFROM market_orders\nWHERE\n  $__timeFilter(start_time) AND\n  simulation in ($simulation)\nGROUP BY 1, unit_id, start_time, simulation\nORDER BY 1\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "volume"
                ],
                "type": "column"
              },
              {
                "params": [
                  "avg"
                ],
                "type": "aggregate"
              },
              {
                "params": [
                  "volume"
                ],
                "type": "alias"
              }
            ],
            [
              {
                "params": [
                  "unit_id"
                ],
                "type": "column"
              },
              {
                "params": [
                  "unit_id"
                ],
                "type": "alias"
              }
            ]
          ],
          "table": "market_orders",
          "timeColumn": "start_time",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            },
            {
              "datatype": "text",
              "name": "",
              "params": [
                "market_id",
                "=",
                "'$market'"
              ],
              "type": "expression"
            },
            {
              "datatype": "text",
              "name": "",
              "params": [
                "simulation",
                "=",
                "'$simulation'"
              ],
              "type": "expression"
            }
          ]
        }
      ],
      "title": "Accepted Bid Volume",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 47
      },
      "id": 74,
      "panels": [],
      "title": "Key performance indicators",
      "type": "row"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "currencyEUR"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Total volume"
            },
            "properties": [
              {
                "id": "unit",
                "value": "megwatt"
              },
              {
                "id": "custom.axisPlacement",
                "value": "right"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Total cost"
            },
            "properties": [
              {
                "id": "custom.axisPlacement",
                "value": "left"
              },
              {
                "id": "unit",
                "value": "currencyEUR"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 7,
        "x": 0,
        "y": 48
      },
      "id": 72,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "vertical",
        "showValue": "never",
        "stacking": "none",
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        },
        "xField": "simulation",
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT summary.simulation, summary.\"Total cost\",\norders.\"Social welfare producers\",\nsummary.\"Total volume\"\nFrom (\nSELECT\n  simulation,\n  sum(round(CAST(value AS numeric), 2))  FILTER (WHERE variable = 'total_cost') as \"Total cost\",\n  sum(round(CAST(value AS numeric), 2))  FILTER (WHERE variable = 'total_volume') as \"Total volume\"\nFROM kpis\nwhere simulation in ($simulation)\ngroup by simulation\nORDER BY simulation) summary\njoin (\nSELECT\n  simulation,\n  sum(round(CAST((accepted_price - price) * accepted_volume AS numeric), 2)) filter(where accepted_volume>0) as \"Social welfare producers\"\nFROM market_orders\nwhere simulation in ($simulation)\ngroup by simulation\nORDER BY simulation) orders on orders.simulation = summary.simulation\n",
          "refId": "Cost",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Total Cost and Volume",
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "currencyEUR"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "total_volume"
            },
            "properties": [
              {
                "id": "unit",
                "value": "kwatth"
              },
              {
                "id": "custom.width",
                "value": 101
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "total_cost"
            },
            "properties": [
              {
                "id": "custom.filterable"
              },
              {
                "id": "unit",
                "value": "currencyEUR"
              },
              {
                "id": "custom.width",
                "value": 83
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "ren_share"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percent"
              },
              {
                "id": "custom.width",
                "value": 86
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "avg_price"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 98
              },
              {
                "id": "unit",
                "value": "€/MWh"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "welfare_producers"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 100
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "social_welfare"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 120
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "simulation"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 234
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "welfare_consumers"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 101
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "welfare_prod"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 103
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "welfare_cons"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 105
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "curtailed_ren"
            },
            "properties": [
              {
                "id": "unit",
                "value": "kwatth"
              },
              {
                "id": "custom.width",
                "value": 98
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "mcp_std"
            },
            "properties": [
              {
                "id": "unit",
                "value": "€/MWh"
              },
              {
                "id": "custom.width",
                "value": 100
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "loss_of_load"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 102
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "loss_of_load"
            },
            "properties": [
              {
                "id": "unit",
                "value": "kwatth"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 15,
        "x": 7,
        "y": 48
      },
      "id": 76,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "frameIndex": 1,
        "showHeader": true,
        "sortBy": [
          {
            "desc": false,
            "displayName": "simulation"
          }
        ]
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  simulation,\n  sum(round(CAST(value AS numeric), 2))  FILTER (WHERE variable = 'avg_price') as avg_price,\n  sum(round(CAST(value AS numeric), 2))  FILTER (WHERE variable = 'total_cost') as total_cost,\n  sum(round(CAST(value AS numeric), 2)*1000)  FILTER (WHERE variable = 'total_volume') as total_volume\n  \nFROM kpis\nwhere variable in ('total_cost', 'total_volume', 'avg_price') and\n  simulation in ($simulation)\ngroup by simulation\nORDER BY simulation",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  simulation,\n  (sum(round(CAST(volume as numeric), 2)) filter(where unit_id in ($Demand_Units))\n  - sum(round(CAST(accepted_volume as numeric), 2)) filter(where unit_id in ($Demand_Units)))*1000 as loss_of_load,\n  sum(round(CAST((accepted_price - price) * accepted_volume AS numeric), 2)) filter(where accepted_volume > 0) as welfare_prod,\n  (sum(round(CAST(accepted_volume AS numeric), 2)) filter(where unit_id in ('Wind onshore', 'Wind offshore', 'Solar', 'Hydro', 'Biomass'))\n  /\n  sum(round(CAST(accepted_volume AS numeric), 2)) filter(where accepted_volume > 0))*100 as ren_share,\n  (sum(round(CAST(abs(volume) AS numeric), 2)) filter(where unit_id in ('Wind onshore', 'Wind offshore', 'Solar', 'Hydro', 'Biomass')) \n  -\n  sum(round(CAST(abs(accepted_volume) AS numeric), 2)) filter(where unit_id in ('Wind onshore', 'Wind offshore', 'Solar', 'Hydro', 'Biomass')))* 1000 as curtailed_ren\nFROM market_orders\nwhere simulation in ($simulation)\nGROUP BY simulation\nORDER BY simulation",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  simulation,\n  stddev(round(CAST(price AS numeric), 2)) as MCP_std\nFROM market_meta\nwhere simulation in ($simulation)\nGROUP BY simulation\nORDER BY simulation",
          "refId": "C",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Key indicators",
      "transformations": [
        {
          "id": "joinByField",
          "options": {
            "byField": "simulation",
            "mode": "outer"
          }
        }
      ],
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Positive, if volume_BB > volume_SB",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "accepted_volume (diffperc)"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "orange",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "offered_volume (diffperc)"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 9,
        "x": 0,
        "y": 60
      },
      "id": 121,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "groupWidth": 0.8,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "horizontal",
        "showValue": "always",
        "stacking": "none",
        "text": {
          "valueSize": 1
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xField": "unit_id",
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  orders.\"id\",\n  orders.\"offered_volume\" as \"offered_volume\",\n  orders.\"accepted_volume\",\n  units.\"dispatched_volume\",\n  orders.unit_id\nfrom(\nSELECT\n  -sum(round(CAST(volume AS numeric)*1000, 2)) as \"offered_volume\",\n  -sum(round(CAST(accepted_volume AS numeric)*1000, 2)) as \"accepted_volume\",\n  simulation,\n  unit_id,\n  concat(unit_id, '_', simulation) as \"id\"\nFROM market_orders\nWHERE\n  simulation in ($simulation) AND\n  unit_id IN ($Gen_Units)\nGROUP BY unit_id, simulation) orders\njoin\n(\nSELECT\n  -sum(round(CAST(power AS numeric)*1000, 2)) AS \"dispatched_volume\",\n  simulation,\n  unit,\n  concat(unit, '_', simulation) as \"id\"\nFROM unit_dispatch\nWHERE\n  simulation in ($simulation) AND\n  unit IN ($Gen_Units)\nGROUP BY unit, simulation\n) units on orders.\"id\" = units.\"id\"\norder by units.unit, units.simulation",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Accepted volumes difference between $simulation",
      "transformations": [
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "accepted_volume": {
                "aggregations": [
                  "diffperc"
                ],
                "operation": "aggregate"
              },
              "dispatched_volume": {
                "aggregations": [
                  "diffperc"
                ],
                "operation": "aggregate"
              },
              "id": {
                "aggregations": []
              },
              "offered_volume": {
                "aggregations": [
                  "diffperc"
                ],
                "operation": "aggregate"
              },
              "unit_id": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        }
      ],
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 12,
        "w": 13,
        "x": 9,
        "y": 60
      },
      "id": 122,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "frameIndex": 0,
        "showHeader": true,
        "sortBy": [
          {
            "desc": false,
            "displayName": "simulation"
          }
        ]
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  (keys.\"avg_price_BB\" - keys.\"avg_price_SB\")/keys.\"avg_price_SB\" * 100 as \"avg_price\",\n  (keys.\"total_cost_BB\" - keys.\"total_cost_SB\")/keys.\"total_cost_SB\" * 100 as \"total_cost\",\n  (keys.\"total_volume_BB\" - keys.\"total_volume_SB\")/keys.\"total_volume_SB\" * 100 as \"total_volume\",\n  ((orders.loss_of_load_BB - orders.loss_of_load_SB)/NULLIF(orders.loss_of_load_SB,0)) *100  as \"loss_of_load\",\n  (orders.welfare_prod_BB - orders.welfare_prod_SB)/orders.welfare_prod_SB * 100 as \"welfare_prod\",\n  (orders.ren_share_BB - orders.ren_share_SB)/orders.ren_share_SB * 100 as \"ren_share\",\n  (orders.curtailed_ren_BB - orders.curtailed_ren_SB)/orders.curtailed_ren_SB *100 as \"curtailed_ren\",\n  (market.MCP_std_BB - market.MCP_std_SB)/ market.MCP_std_SB * 100 as \"std_MCP\"\nfrom(\nSELECT\n  sum(round(CAST(value AS numeric), 2)) FILTER (WHERE variable = 'avg_price' AND simulation like '%BB%') as \"avg_price_BB\",\n  sum(round(CAST(value AS numeric), 2)) FILTER (WHERE variable = 'avg_price' AND simulation like '%SB%') as \"avg_price_SB\",\n  sum(round(CAST(value AS numeric), 2)) FILTER (WHERE variable = 'total_cost' AND simulation like '%BB%') as \"total_cost_BB\",\n  sum(round(CAST(value AS numeric), 2)) FILTER (WHERE variable = 'total_cost' AND simulation like '%SB%') as \"total_cost_SB\",\n  sum(round(CAST(value AS numeric), 2)*1000)  FILTER (WHERE variable = 'total_volume' AND simulation like '%BB%') as \"total_volume_BB\",\n  sum(round(CAST(value AS numeric), 2)*1000)  FILTER (WHERE variable = 'total_volume' AND simulation like '%SB%') as \"total_volume_SB\"\nFROM kpis\nwhere variable in ('total_cost', 'total_volume', 'avg_price') and\n  simulation in ($simulation)\norder by 1\n) keys\nCross join (\nSELECT\n  (sum(round(CAST(volume as numeric), 2)) filter(where unit_id in ($Demand_Units) and simulation like '%BB%')\n  - sum(round(CAST(accepted_volume as numeric), 2)) filter(where unit_id in ($Demand_Units) and simulation like '%BB%')) as loss_of_load_BB,\n  (sum(round(CAST(volume as numeric), 2)) filter(where unit_id in ($Demand_Units) and simulation like '%BB%')\n  - sum(round(CAST(accepted_volume as numeric), 2)) filter(where unit_id in ($Demand_Units) and simulation like '%SB%')) as loss_of_load_SB,\n  sum(round(CAST((accepted_price - price) * accepted_volume AS numeric), 2)) filter(where accepted_volume > 0 and simulation like '%BB%') as welfare_prod_BB,\n  sum(round(CAST((accepted_price - price) * accepted_volume AS numeric), 2)) filter(where accepted_volume > 0 and simulation like '%SB%') as welfare_prod_SB,\n  (sum(round(CAST(accepted_volume AS numeric), 2)) filter(where unit_id in ('Wind onshore', 'Wind offshore', 'Solar', 'Hydro', 'Biomass') and simulation like '%BB%')\n  /\n  sum(round(CAST(accepted_volume AS numeric), 2)) filter(where accepted_volume > 0 and simulation like '%BB%')) as ren_share_BB,\n  (sum(round(CAST(accepted_volume AS numeric), 2)) filter(where unit_id in ('Wind onshore', 'Wind offshore', 'Solar', 'Hydro', 'Biomass') and simulation like '%SB%')\n  /\n  sum(round(CAST(accepted_volume AS numeric), 2)) filter(where accepted_volume > 0 and simulation like '%SB%')) as ren_share_SB,\n  (sum(round(CAST(abs(volume) AS numeric), 2)) filter(where unit_id in ('Wind onshore', 'Wind offshore', 'Solar', 'Hydro', 'Biomass') and simulation like '%BB%') \n  -\n  sum(round(CAST(abs(accepted_volume) AS numeric), 2)) filter(where unit_id in ('Wind onshore', 'Wind offshore', 'Solar', 'Hydro', 'Biomass') and simulation like '%BB%')) as curtailed_ren_BB,\n    (sum(round(CAST(abs(volume) AS numeric), 2)) filter(where unit_id in ('Wind onshore', 'Wind offshore', 'Solar', 'Hydro', 'Biomass') and simulation like '%SB%') \n  -\n  sum(round(CAST(abs(accepted_volume) AS numeric), 2)) filter(where unit_id in ('Wind onshore', 'Wind offshore', 'Solar', 'Hydro', 'Biomass') and simulation like '%SB%')) as curtailed_ren_SB\nFROM market_orders\nwhere simulation in ($simulation)\norder by 1\n) orders\nCross join (\nSELECT\n  stddev(round(CAST(price AS numeric), 2)) filter(where simulation like '%BB%') as MCP_std_BB,\n  stddev(round(CAST(price AS numeric), 2)) filter(where simulation like '%SB%') as MCP_std_SB\nFROM market_meta\nwhere simulation in ($simulation)\nORDER BY 1\n) market\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Key indicators differences in %",
      "transformations": [],
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Shows installed capacities in the simulation based on the fuel type",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "unit": "megwatt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 12,
        "w": 5,
        "x": 19,
        "y": 72
      },
      "id": 7,
      "options": {
        "displayLabels": [
          "value",
          "name"
        ],
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "/^sum$/",
          "values": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [
            {
              "params": [
                "fuel_type"
              ],
              "type": "column"
            }
          ],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT DISTINCT On (index)\n  NOW() as time_sec,\n  SUM(max_power/2),\n  technology\nFROM power_plant_meta\nWHERE \"simulation\" in ($simulation)\nGROUP BY technology, index\n\n\n\n",
          "refId": "Generation",
          "select": [
            [
              {
                "params": [
                  "max_power"
                ],
                "type": "column"
              },
              {
                "params": [
                  "avg"
                ],
                "type": "aggregate"
              },
              {
                "params": [
                  "max_power"
                ],
                "type": "alias"
              }
            ]
          ],
          "table": "power_plant_meta",
          "timeColumn": "fuel_type",
          "timeColumnType": "text",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Installed Generation Capacities",
      "type": "piechart"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 84
      },
      "id": 41,
      "panels": [],
      "title": "Generation units $Gen_Units",
      "type": "row"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "",
      "gridPos": {
        "h": 3,
        "w": 24,
        "x": 0,
        "y": 85
      },
      "id": 22,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# Unit Specific Data\n\nFor the chosen market and the chosen unit here the dispatch is displayed.",
        "mode": "markdown"
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": false,
          "rawSql": "SELECT\n  \"Timestamp\" AS \"time\",\n  volume\nFROM demand_meta\nWHERE\n  $__timeFilter(\"Timestamp\")\nORDER BY 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "demand_meta",
          "timeColumn": "\"Timestamp\"",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "type": "text"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "currencyEUR"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "total_power"
            },
            "properties": [
              {
                "id": "unit",
                "value": "kwatth"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "average_cost"
            },
            "properties": [
              {
                "id": "unit",
                "value": "€/MW"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 18,
        "x": 0,
        "y": 88
      },
      "id": 87,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "frameIndex": 2,
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "simulation"
          }
        ]
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  concat(unit, '_', simulation) as \"unit\",\n  sum(round(CAST(total_cost AS numeric), 2)) as Total_cost,\n  sum(round(CAST(energy_cashflow AS numeric), 2)) as Total_revenues,\n  sum(round(CAST(profit AS numeric), 2)) as Total_profits,\n  sum(round(CAST(abs(power) AS numeric)*1000, 2)) as Total_power\nFROM unit_dispatch\nwhere \n  unit in ($Gen_Units) and\n  simulation in ($simulation)\nGROUP BY unit, simulation\nORDER BY unit",
          "refId": "C",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Key indicators",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 16,
        "w": 6,
        "x": 18,
        "y": 88
      },
      "id": 26,
      "options": {
        "content": "### General Information\n\nName: {{index}} <br>\nTechnology: {{technology}} <br>\n\n### Technical Specifications\nEmissions: {{emission_factor}} t/MWh <br>\nMaximum Power: {{max_power}} MW <br>\nMinimum Power: {{min_power}} MW <br>\nEfficiency: {{efficiency}} <br>\n\n##### Unit Operator: {{unit_operator}}\n  ",
        "defaultContent": "The query didn't return any results.",
        "editor": {
          "format": "auto",
          "height": 200,
          "language": "markdown"
        },
        "editors": [],
        "everyRow": true,
        "externalScripts": [],
        "externalStyles": [],
        "helpers": "",
        "styles": ""
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT DISTINCT On (index) * FROM power_plant_meta\nWHERE index in ($Gen_Units) and simulation in ($simulation)\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "demand_meta",
          "timeColumn": "\"Timestamp\"",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Chosen Unit Specifications",
      "type": "marcusolsson-dynamictext-panel"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "stepBefore",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "megwatt"
        },
        "overrides": [
          {
            "__systemRef": "hideSeriesFrom",
            "matcher": {
              "id": "byNames",
              "options": {
                "mode": "exclude",
                "names": [
                  "dispatch {simulation=\"2020_BB_dam\", unit=\"Wind offshore\"}"
                ],
                "prefix": "All except:",
                "readOnly": true
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 18,
        "x": 0,
        "y": 96
      },
      "id": 24,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  index as \"time\",\n  sum(power) AS \"dispatch\",\n  unit,\n  simulation\nFROM unit_dispatch\nWHERE\n  $__timeFilter(index) AND\n  unit in ($Gen_Units) AND\n  simulation in ($simulation)\nGROUP BY 1, unit, power, simulation\nORDER BY 1\n",
          "refId": "Dispatch",
          "select": [
            [
              {
                "params": [
                  "volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "demand_meta",
          "timeColumn": "\"Timestamp\"",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  start_time as \"time\",\n  sum(accepted_volume) AS \"accepted_volume\",\n  unit_id,\n  simulation\nFROM market_orders\nWHERE\n  $__timeFilter(start_time) AND\n  unit_id in ($Gen_Units) AND\n  simulation in ($simulation)\nGROUP BY 1, unit_id, simulation\nORDER BY 1\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Unitwise Dispatch",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "total_costs"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "total_profits"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "total_volume"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "light-blue",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "sum_mismatch"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "orange",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 15,
        "w": 9,
        "x": 4,
        "y": 105
      },
      "id": 123,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "horizontal",
        "showValue": "always",
        "stacking": "none",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "Select\n  dispatch.unit,\n  (dispatch.total_cost_BB-dispatch.total_cost_SB)/NULLIF(dispatch.total_cost_SB,0)*100 as \"total_costs\",\n  (dispatch.total_profits_BB-dispatch.total_profits_SB)/NULLIF(dispatch.total_profits_SB,0)*100 as \"total_profits\",\n  (dispatch.total_power_BB-dispatch.total_power_SB)/NULLIF(dispatch.total_power_SB,0)*100 as \"total_volume\",\n  (match.\"mismatch_BB\" - match.\"mismatch_SB\")/NULLIF(match.\"mismatch_SB\",0) *100 as \"sum_mismatch\"\nfrom(\nSELECT\n  unit as \"unit\",\n  sum(round(CAST(total_cost AS numeric), 2)) filter(where simulation like '%BB%') as total_cost_BB,\n  sum(round(CAST(total_cost AS numeric), 2)) filter(where simulation like '%SB%') as total_cost_SB,\n  sum(round(CAST(profit AS numeric), 2)) filter(where simulation like '%BB%') as total_profits_BB,\n  sum(round(CAST(profit AS numeric), 2)) filter(where simulation like '%SB%') as total_profits_SB,\n  sum(round(CAST(abs(power) AS numeric)*1000, 2)) filter(where simulation like '%BB%') as total_power_BB,\n  sum(round(CAST(abs(power) AS numeric)*1000, 2)) filter(where simulation like '%SB%') as total_power_SB\nFROM unit_dispatch\nwhere \n  unit in ($Gen_Units) and\n  simulation in ($simulation)\nGROUP BY unit\nORDER BY 1) dispatch\njoin(\nSelect sum(abs(market_outcome.\"Accepted Volume\" - actual_dispatch.power)) filter(where actual_dispatch.simulation like '%BB%') as \"mismatch_BB\",\nsum(abs(market_outcome.\"Accepted Volume\" - actual_dispatch.power)) filter(where actual_dispatch.simulation like '%SB%') as \"mismatch_SB\",\n  market_outcome.unit_id\nFrom(\nSELECT\n  index as \"time\",\n  power,\n  unit,\n  simulation\nFROM unit_dispatch\nWHERE\n  unit in ($Gen_Units) AND\n  simulation in ($simulation)\nGROUP BY 1, power, index, simulation, unit\nORDER BY 1) actual_dispatch\nleft join(\nSELECT\n  start_time as \"time\",\n  sum(accepted_volume) as \"Accepted Volume\",\n  simulation,\n  unit_id,\n  concat(unit_id, '_', simulation) as \"id\"\nFROM market_orders\nWhere\n  unit_id in ($Gen_Units) AND\n  simulation in ($simulation)\nGROUP BY 1, unit_id, simulation, start_time\nORDER BY 1\n) market_outcome on (market_outcome.time = actual_dispatch.time AND\n  actual_dispatch.unit = market_outcome.unit_id AND\n  actual_dispatch.simulation = market_outcome.simulation\n)\nGROUP BY market_outcome.unit_id\nORDER BY market_outcome.unit_id\n) match on (match.unit_id = dispatch.unit)",
          "refId": "C",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Unit-wise metrics: Difference by introducing BB",
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Bid prices of accepted bids per unit in the chosen market",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "megwatt"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": ".* price .*"
            },
            "properties": [
              {
                "id": "unit",
                "value": "€/MW"
              },
              {
                "id": "custom.axisCenteredZero",
                "value": false
              },
              {
                "id": "custom.axisPlacement",
                "value": "right"
              }
            ]
          },
          {
            "__systemRef": "hideSeriesFrom",
            "matcher": {
              "id": "byNames",
              "options": {
                "mode": "exclude",
                "names": [
                  "flex volume {id=\"Hydro_SB_2020_BB_dam\"}"
                ],
                "prefix": "All except:",
                "readOnly": true
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 18,
        "x": 0,
        "y": 120
      },
      "id": 70,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [
            {
              "params": [
                "$__interval",
                "none"
              ],
              "type": "time"
            },
            {
              "params": [
                "unit_id"
              ],
              "type": "column"
            }
          ],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select \n  orders.\"time\",\n  sum(round(CAST(orders.price AS numeric), 2)) FILTER(where orders.volume = powerplants.min_power) AS \"inflex price\",\n  sum(round(CAST(orders.price AS numeric), 2)) FILTER(where orders.volume != powerplants.min_power) AS \"flex price\",\n  sum(round(CAST(orders.volume AS numeric), 2)) FILTER(where orders.volume = powerplants.min_power) AS \"inflex volume\",\n  sum(round(CAST(orders.volume AS numeric), 2)) FILTER(where orders.volume != powerplants.min_power) AS \"flex volume\",\n  concat(unit_id, '_', bid_type, '_', simulation) As \"id\"\nfrom \n(\nSELECT\n  start_time as \"time\",\n  price,\n  sum(round(CAST(volume as numeric), 2)) AS \"volume\",\n  unit_id as \"unit_id\",\n  simulation,\n  bid_type\nFROM market_orders\nWHERE\n  $__timeFilter(start_time) AND\n  unit_id in ($Gen_Units) AND\n  simulation in ($simulation)\nGROUP BY 1, bid_type, simulation, unit_id, price\nOrder by 1) orders\nleft join (\nSELECT\n  index,\n  min_power\nFROM\n  power_plant_meta\nWHERE\n  index in ($Gen_Units)\nGroup By 1, min_power\norder by 1\n) powerplants \non (powerplants.index = orders.unit_id)\nGroup by \"id\", orders.\"time\", orders.unit_id\norder by 1, orders.unit_id",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "price"
                ],
                "type": "column"
              },
              {
                "params": [
                  "avg"
                ],
                "type": "aggregate"
              },
              {
                "params": [
                  "price"
                ],
                "type": "alias"
              }
            ],
            [
              {
                "params": [
                  "unit_id"
                ],
                "type": "column"
              },
              {
                "params": [
                  "unit_id"
                ],
                "type": "alias"
              }
            ]
          ],
          "table": "market_orders",
          "timeColumn": "start_time",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            },
            {
              "datatype": "text",
              "name": "",
              "params": [
                "market_id",
                "=",
                "'$market'"
              ],
              "type": "expression"
            },
            {
              "datatype": "text",
              "name": "",
              "params": [
                "simulation",
                "=",
                "'$simulation'"
              ],
              "type": "expression"
            }
          ]
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  start_time as \"time\",\n  sum(round(CAST(volume as numeric), 2)) AS \"sum offered volume\",\n  max(price) as \"max offered price\",\n  simulation\nFROM market_orders\nWHERE\n  $__timeFilter(start_time) AND\n  unit_id in ($Gen_Units) AND\n  simulation in ($simulation)\nGROUP BY 1, simulation\nOrder by 1",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Offered Bid Prices and Volume",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "energy that has to be bought or sold addtionally",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisGridShow": true,
            "axisLabel": "",
            "axisPlacement": "auto",
            "axisWidth": 28,
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "kwatth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 11,
        "w": 11,
        "x": 13,
        "y": 128
      },
      "id": 90,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "orientation": "horizontal",
        "showValue": "always",
        "stacking": "none",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "Select sum(abs(market_outcome.\"Accepted Volume\" - actual_dispatch.power))*1000 as \"mismatch\",\n  market_outcome.\"id\"\nFrom(\nSELECT\n  index as \"time\",\n  power,\n  unit,\n  simulation\nFROM unit_dispatch\nWHERE\n  unit in ($Gen_Units) AND\n  simulation in ($simulation)\nGROUP BY 1, power, index, simulation, unit\nORDER BY 1) actual_dispatch\nleft join(\nSELECT\n  start_time as \"time\",\n  sum(accepted_volume) as \"Accepted Volume\",\n  simulation,\n  unit_id,\n  concat(unit_id, '_', simulation) as \"id\"\nFROM market_orders\nWhere\n  unit_id in ($Gen_Units) AND\n  simulation in ($simulation)\nGROUP BY 1, unit_id, simulation, start_time\nORDER BY 1\n) market_outcome on (market_outcome.time = actual_dispatch.time AND\n  actual_dispatch.unit = market_outcome.unit_id AND\n  actual_dispatch.simulation = market_outcome.simulation\n)\nGROUP BY market_outcome.id\nORDER BY market_outcome.id\n\n",
          "refId": "Dispatch",
          "select": [
            [
              {
                "params": [
                  "volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "demand_meta",
          "timeColumn": "\"Timestamp\"",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Unitwise breaking constraints - Sum",
      "transformations": [],
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "actual dispatch respecting ramping unit constraints - Market outcome",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "stepAfter",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "always",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "megwatt"
        },
        "overrides": [
          {
            "__systemRef": "hideSeriesFrom",
            "matcher": {
              "id": "byNames",
              "options": {
                "mode": "exclude",
                "names": [
                  "mismatch {simulation=\"2020_BB_dam\", unit_id=\"Hydro\"}"
                ],
                "prefix": "All except:",
                "readOnly": true
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 18,
        "x": 0,
        "y": 139
      },
      "id": 88,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "Select (actual_dispatch.power - market_outcome.\"Accepted Volume\")  as \"mismatch\",\n  market_outcome.unit_id,\n  actual_dispatch.\"time\",\n  market_outcome.simulation\nFrom(\nSELECT\n  index as \"time\",\n  power,\n  unit,\n  simulation\nFROM unit_dispatch\nWHERE\n  $__timeFilter(index) AND\n  unit in ($Gen_Units) AND\n  simulation in ($simulation)\nGROUP BY 1, unit, power, simulation, index\nORDER BY 1) actual_dispatch\nleft join(\nSELECT\n  start_time As \"time\",\n  sum(accepted_volume) as \"Accepted Volume\",\n  simulation,\n  unit_id\nFROM market_orders\nWhere\n  $__timeFilter(start_time) AND\n  unit_id in ($Gen_Units) AND\n  simulation in ($simulation)\nGROUP BY 1, unit_id, simulation, start_time\nORDER BY 1\n) market_outcome on (market_outcome.time = actual_dispatch.time AND\n  actual_dispatch.unit = market_outcome.unit_id AND\n  actual_dispatch.simulation = market_outcome.simulation)\n\n",
          "refId": "Dispatch",
          "select": [
            [
              {
                "params": [
                  "volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "demand_meta",
          "timeColumn": "\"Timestamp\"",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Unitwise breaking constraints - dispatched power minus accepted",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Offered volume is incorrect, because only accepted and partly accepted orders are saved",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "kwatth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "offered_volume"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "accepted_volume"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "orange",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 11,
        "x": 0,
        "y": 148
      },
      "id": 85,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "groupWidth": 0.8,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "horizontal",
        "showValue": "always",
        "stacking": "none",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  orders.\"id\",\n  orders.\"offered_volume\",\n  orders.\"accepted_volume\",\n  units.\"dispatched_volume\"\nfrom(\nSELECT\n  sum(round(CAST(volume AS numeric)*1000, 2)) as \"offered_volume\",\n  sum(round(CAST(accepted_volume AS numeric)*1000, 2)) as \"accepted_volume\",\n  simulation,\n  unit_id,\n  concat(unit_id, '_', simulation) as \"id\"\nFROM market_orders\nWHERE\n  simulation in ($simulation) AND\n  unit_id IN ($Gen_Units)\nGROUP BY unit_id, simulation) orders\njoin\n(\nSELECT\n  sum(round(CAST(power AS numeric)*1000, 2)) AS \"dispatched_volume\",\n  simulation,\n  unit,\n  concat(unit, '_', simulation) as \"id\"\nFROM unit_dispatch\nWHERE\n  simulation in ($simulation) AND\n  unit IN ($Gen_Units)\nGROUP BY unit, simulation\n) units on orders.\"id\" = units.\"id\"\norder by units.unit",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Accepted volumes",
      "transformations": [],
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Positive, if volume_BB > volume_SB",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "kwatth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "accepted_volume (diff)"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "orange",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "offered_volume (diff)"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 12,
        "x": 11,
        "y": 148
      },
      "id": 89,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "groupWidth": 0.8,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "horizontal",
        "showValue": "always",
        "stacking": "none",
        "text": {
          "valueSize": 1
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xField": "unit_id",
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  orders.\"id\",\n  orders.\"offered_volume\",\n  orders.\"accepted_volume\",\n  units.\"dispatched_volume\",\n  orders.unit_id\nfrom(\nSELECT\n  -sum(round(CAST(volume AS numeric)*1000, 2)) as \"offered_volume\",\n  -sum(round(CAST(accepted_volume AS numeric)*1000, 2)) as \"accepted_volume\",\n  simulation,\n  unit_id,\n  concat(unit_id, '_', simulation) as \"id\"\nFROM market_orders\nWHERE\n  simulation in ($simulation) AND\n  unit_id IN ($Gen_Units)\nGROUP BY unit_id, simulation) orders\njoin\n(\nSELECT\n  -sum(round(CAST(power AS numeric)*1000, 2)) AS \"dispatched_volume\",\n  simulation,\n  unit,\n  concat(unit, '_', simulation) as \"id\"\nFROM unit_dispatch\nWHERE\n  simulation in ($simulation) AND\n  unit IN ($Gen_Units)\nGROUP BY unit, simulation\n) units on orders.\"id\" = units.\"id\"",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Accepted volumes difference between $simulation",
      "transformations": [
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "accepted_volume": {
                "aggregations": [
                  "diff"
                ],
                "operation": "aggregate"
              },
              "dispatched_volume": {
                "aggregations": [
                  "diff"
                ],
                "operation": "aggregate"
              },
              "id": {
                "aggregations": []
              },
              "offered_volume": {
                "aggregations": [
                  "diff"
                ],
                "operation": "aggregate"
              },
              "unit_id": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        }
      ],
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Positive, if volume_BB > volume_SB",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "accepted_volume (diffperc)"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "orange",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "offered_volume (diffperc)"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 9,
        "x": 11,
        "y": 160
      },
      "id": 120,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "groupWidth": 0.8,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "horizontal",
        "showValue": "always",
        "stacking": "none",
        "text": {
          "valueSize": 1
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xField": "unit_id",
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  orders.\"id\",\n  orders.\"offered_volume\" as \"offered_volume\",\n  orders.\"accepted_volume\",\n  units.\"dispatched_volume\",\n  orders.unit_id\nfrom(\nSELECT\n  -sum(round(CAST(volume AS numeric)*1000, 2)) as \"offered_volume\",\n  -sum(round(CAST(accepted_volume AS numeric)*1000, 2)) as \"accepted_volume\",\n  simulation,\n  unit_id,\n  concat(unit_id, '_', simulation) as \"id\"\nFROM market_orders\nWHERE\n  simulation in ($simulation) AND\n  unit_id IN ($Gen_Units)\nGROUP BY unit_id, simulation) orders\njoin\n(\nSELECT\n  -sum(round(CAST(power AS numeric)*1000, 2)) AS \"dispatched_volume\",\n  simulation,\n  unit,\n  concat(unit, '_', simulation) as \"id\"\nFROM unit_dispatch\nWHERE\n  simulation in ($simulation) AND\n  unit IN ($Gen_Units)\nGROUP BY unit, simulation\n) units on orders.\"id\" = units.\"id\"\norder by units.unit, units.simulation",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Accepted volumes difference between $simulation",
      "transformations": [
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "accepted_volume": {
                "aggregations": [
                  "diffperc"
                ],
                "operation": "aggregate"
              },
              "dispatched_volume": {
                "aggregations": [
                  "diffperc"
                ],
                "operation": "aggregate"
              },
              "id": {
                "aggregations": []
              },
              "offered_volume": {
                "aggregations": [
                  "diffperc"
                ],
                "operation": "aggregate"
              },
              "unit_id": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        }
      ],
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Positive, if volume_BB > volume_SB",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 15,
        "w": 11,
        "x": 0,
        "y": 161
      },
      "id": 124,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "groupWidth": 0.8,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "horizontal",
        "showValue": "always",
        "stacking": "none",
        "text": {
          "valueSize": 1
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xField": "unit_id",
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  unit_id,\n  -sum(round(CAST(accepted_volume AS numeric)*1000, 2))/-sum(round(CAST(volume AS numeric)*1000, 2)) as \"acceptance ratio\",\n  simulation\nFROM market_orders\nWHERE\n  simulation in ($simulation) AND\n  unit_id IN ($Gen_Units)\nGROUP BY simulation, unit_id\norder by unit_id, simulation",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Acceptance ratios",
      "transformations": [],
      "type": "barchart"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 176
      },
      "id": 39,
      "panels": [],
      "title": "Demand units data $Demand_Units",
      "type": "row"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "",
      "gridPos": {
        "h": 3,
        "w": 24,
        "x": 0,
        "y": 177
      },
      "id": 35,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# Unit Specific Data\n\nFor the chosen market and the chosen unit here the dispatch is displayed.",
        "mode": "markdown"
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": false,
          "rawSql": "SELECT\n  \"Timestamp\" AS \"time\",\n  volume\nFROM demand_meta\nWHERE\n  $__timeFilter(\"Timestamp\")\nORDER BY 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "demand_meta",
          "timeColumn": "\"Timestamp\"",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "type": "text"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "stepAfter",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "megwatt"
        },
        "overrides": [
          {
            "__systemRef": "hideSeriesFrom",
            "matcher": {
              "id": "byNames",
              "options": {
                "mode": "exclude",
                "names": [
                  "power {simulation=\"2020_BB_dam\", unit_id=\"demand_EOM\"}",
                  "power {simulation=\"2020_LB_dam\", unit_id=\"demand_EOM\"}",
                  "power {simulation=\"2020_SB_dam\", unit_id=\"demand_EOM\"}"
                ],
                "prefix": "All except:",
                "readOnly": true
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 18,
        "x": 0,
        "y": 180
      },
      "id": 36,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  start_time as \"time\",\n  accepted_volume AS \"power\",\n  unit_id,\n  simulation\nFROM market_orders\nWHERE\n  $__timeFilter(start_time) AND\n  simulation in ($simulation) AND\n  unit_id in ($Demand_Units)\nGROUP BY 1, unit_id, accepted_volume, simulation\nORDER BY 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "demand_meta",
          "timeColumn": "\"Timestamp\"",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  index as \"time\",\n  power AS \"dispatch\",\n  unit\nFROM unit_dispatch\nWHERE\n  $__timeFilter(index) AND\n  simulation in ($simulation) AND\n  unit in ($Demand_Units)\nGROUP BY 1, unit, power, simulation\nORDER BY 1\n",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Unitwise Dispatch",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 6,
        "x": 18,
        "y": 180
      },
      "id": 37,
      "options": {
        "content": "### General Information\n\nName: {{index}} <br>\nTechnology: {{technology}} <br>\n\n### Technical Specifications\nEmissions: {{emission_factor}} t/MWh <br>\nMaximum Power: {{max_power}} MW <br>\nMinimum Power: {{min_power}} MW <br>\nEfficiency: {{efficiency}} <br>\n\n##### Unit Operator: {{unit_operator}}\n  ",
        "defaultContent": "The query didn't return any results.",
        "editor": {
          "format": "auto",
          "height": 200,
          "language": "markdown"
        },
        "editors": [],
        "everyRow": true,
        "externalScripts": [],
        "externalStyles": [],
        "helpers": "",
        "styles": ""
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT distinct on (index) * FROM demand_meta\nWHERE index in ($Demand_Units) and simulation in ($simulation)\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "demand_meta",
          "timeColumn": "\"Timestamp\"",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Chosen Unit Specifications",
      "type": "marcusolsson-dynamictext-panel"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 189
      },
      "id": 44,
      "panels": [],
      "title": "Storage units data $Storage_Units",
      "type": "row"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "",
      "gridPos": {
        "h": 3,
        "w": 24,
        "x": 0,
        "y": 190
      },
      "id": 45,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# Unit Specific Data\n\nFor the chosen market and the chosen storage unit here the dispatch is displayed.",
        "mode": "markdown"
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": false,
          "rawSql": "SELECT\n  \"Timestamp\" AS \"time\",\n  volume\nFROM demand_meta\nWHERE\n  $__timeFilter(\"Timestamp\")\nORDER BY 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "demand_meta",
          "timeColumn": "\"Timestamp\"",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "type": "text"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "currencyEUR"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "total_power"
            },
            "properties": [
              {
                "id": "unit",
                "value": "kwatth"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "average_cost"
            },
            "properties": [
              {
                "id": "unit",
                "value": "€/MW"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 18,
        "x": 0,
        "y": 193
      },
      "id": 119,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "frameIndex": 2,
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "simulation"
          }
        ]
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  concat(unit, '_', simulation) as \"unit\",\n  sum(round(CAST(total_cost AS numeric), 2)) as Total_cost,\n  sum(round(CAST(energy_cashflow AS numeric), 2)) as Total_revenues,\n  sum(round(CAST(profit AS numeric), 2)) as Total_profits,\n  sum(round(CAST(abs(power) AS numeric)*1000, 2)) as Total_power\nFROM unit_dispatch\nwhere \n  unit in ($Storage_Units) and\n  simulation in ($simulation)\nGROUP BY unit, simulation\nORDER BY unit",
          "refId": "C",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Key indicators",
      "type": "table"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 16,
        "w": 6,
        "x": 18,
        "y": 193
      },
      "id": 47,
      "options": {
        "content": "### General Information\n\nName: {{index}} <br>\nTechnology: {{technology}} <br>\n\n### Technical Specifications\nEmissions: {{emission_factor}} t/MWh <br>\nMaximum Power Disharge: {{max_power_discharge}} MW <br>\nMinimum Power Discharge: {{min_power_discharge}} MW <br>\nEfficiency Discharge: {{efficiency_discharge}} <br>\n\nMaximum Power Charge: {{max_power_charge}} MW <br>\nMinimum Power Charge: {{min_power_charge}} MW <br>\nEfficiency Charge: {{efficiency_charge}} <br>\n\n##### Unit Operator: {{unit_operator}}\n  ",
        "defaultContent": "The query didn't return any results.",
        "editor": {
          "format": "auto",
          "height": 200,
          "language": "markdown"
        },
        "editors": [],
        "everyRow": true,
        "externalScripts": [],
        "externalStyles": [],
        "helpers": "",
        "styles": ""
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT distinct on (index) * FROM storage_meta\nWHERE index in ($Storage_Units) and simulation in ($simulation)\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "volume"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "demand_meta",
          "timeColumn": "\"Timestamp\"",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Chosen Unit Specifications",
      "type": "marcusolsson-dynamictext-panel"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "always",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "noValue": "0",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 18,
        "x": 0,
        "y": 201
      },
      "id": 102,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  start_time as \"time\",\n  accepted_volume AS \"Market dispatch\",\n  unit_id,\n  simulation\nFROM market_orders\nWHERE\n  $__timeFilter(start_time) AND\n  simulation in ($simulation) AND\n  unit_id in ($Storage_Units)\nGROUP BY 1, unit_id, accepted_volume, simulation\nORDER BY 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  index as \"time\",\n  power AS \"Actual dispatch\",\n  unit,\n  simulation\nFROM unit_dispatch\nWHERE\n  $__timeFilter(index) AND\n  simulation in ($simulation) AND\n  unit in ($Storage_Units)\nGROUP BY 1, unit, power, simulation\nORDER BY 1",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Storage dispatch",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "Bid prices of accepted bids per unit in the chosen market",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "currencyEUR"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byRegexp",
              "options": "price .*"
            },
            "properties": [
              {
                "id": "unit",
                "value": "€/MW"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 12,
        "x": 0,
        "y": 209
      },
      "id": 92,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "max",
            "mean"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "9.2.15",
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [
            {
              "params": [
                "$__interval",
                "none"
              ],
              "type": "time"
            },
            {
              "params": [
                "unit_id"
              ],
              "type": "column"
            }
          ],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\r\n  start_time as \"time\",\r\n  accepted_price AS \"Accepted price:\",\r\n  price AS \"Bid price:\",\r\n  concat(unit_id, ' - ', market_id) as \"unit_id\",\r\n  simulation\r\nFROM market_orders\r\nWHERE\r\n  $__timeFilter(start_time) AND\r\n  unit_id in ($Storage_Units) AND\r\n  simulation in ($simulation)\r\nGROUP BY 1, unit_id, market_id, price, accepted_price, simulation\r\nORDER BY 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "original_price"
                ],
                "type": "column"
              },
              {
                "params": [
                  "avg"
                ],
                "type": "aggregate"
              },
              {
                "params": [
                  "price"
                ],
                "type": "alias"
              }
            ],
            [
              {
                "params": [
                  "unit_id"
                ],
                "type": "column"
              },
              {
                "params": [
                  "unit_id"
                ],
                "type": "alias"
              }
            ]
          ],
          "table": "market_orders",
          "timeColumn": "start_time",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            },
            {
              "datatype": "text",
              "name": "",
              "params": [
                "market_id",
                "=",
                "'$market'"
              ],
              "type": "expression"
            },
            {
              "datatype": "text",
              "name": "",
              "params": [
                "simulation",
                "=",
                "'$simulation'"
              ],
              "type": "expression"
            }
          ]
        }
      ],
      "title": "Bid Prices",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "megwatt"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "volume_acceptance_ratio"
            },
            "properties": [
              {
                "id": "custom.axisPlacement",
                "value": "right"
              },
              {
                "id": "min",
                "value": 0
              },
              {
                "id": "max",
                "value": 1
              },
              {
                "id": "custom.axisLabel",
                "value": "Relative acceptance of bid volume"
              },
              {
                "id": "unit"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 12,
        "x": 12,
        "y": 209
      },
      "id": 94,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "max",
            "mean"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\r\n  start_time as \"time\",\r\n  avg(accepted_volume) AS \"Accepted volume:\",\r\n  concat(unit_id, ' - ', market_id) as \"unit_id\",\r\n  simulation\r\nFROM market_orders\r\nWHERE\r\n  $__timeFilter(start_time) AND\r\n  unit_id in ($Storage_Units) AND\r\n  simulation in ($simulation)\r\nGROUP BY 1, unit_id, market_id, simulation\r\nORDER BY 1\r\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\r\n  start_time As \"time\",\r\n  avg(volume) AS \"Bid volume:\",\r\n  unit_id,\r\n  simulation\r\nFROM market_orders\r\nWHERE\r\n  $__timeFilter(start_time) AND\r\n  unit_id in ($Storage_Units) AND\r\n  simulation in ($simulation)\r\nGROUP BY 1, unit_id, simulation\r\nORDER BY 1",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Bid volume",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "alias": "volume_acceptance_ratio",
            "binary": {
              "left": "accepted_volume Unit 1",
              "operator": "/",
              "reducer": "sum",
              "right": "bid_volume Unit 1"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        }
      ],
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "postgres",
        "uid": "P7B13B9DF907EC40C"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 24,
        "x": 0,
        "y": 218
      },
      "id": 111,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "postgres",
            "uid": "P7B13B9DF907EC40C"
          },
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  index as \"time\",\n  soc as \"State of Charge\",\n  unit,\n  simulation\nFROM unit_dispatch\nWHERE\n  $__timeFilter(index) AND\n  unit in ($Storage_Units) AND\n  simulation in ($simulation)\nGROUP By soc, unit, simulation, index\nORDER BY 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "power"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "market_dispatch",
          "timeColumn": "datetime",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "State of Charge",
      "type": "timeseries"
    }
  ],
  "refresh": false,
  "schemaVersion": 37,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "selected": true,
          "text": [
            "Biomass",
            "Hydro",
            "Solar",
            "Wind offshore",
            "Wind onshore",
            "coal_unit",
            "combined_gas_unit",
            "lignite_unit",
            "nuclear_unit",
            "oil_unit",
            "open_gas_unit"
          ],
          "value": [
            "Biomass",
            "Hydro",
            "Solar",
            "Wind offshore",
            "Wind onshore",
            "coal_unit",
            "combined_gas_unit",
            "lignite_unit",
            "nuclear_unit",
            "oil_unit",
            "open_gas_unit"
          ]
        },
        "datasource": {
          "type": "postgres",
          "uid": "P7B13B9DF907EC40C"
        },
        "definition": "SELECT index\nFROM power_plant_meta\nwhere simulation in ($simulation);",
        "description": "Can choose which units we want to display ",
        "hide": 0,
        "includeAll": false,
        "label": "",
        "multi": true,
        "name": "Gen_Units",
        "options": [],
        "query": "SELECT index\nFROM power_plant_meta\nwhere simulation in ($simulation);",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "current": {
          "selected": true,
          "text": [
            "demand_EOM"
          ],
          "value": [
            "demand_EOM"
          ]
        },
        "datasource": {
          "type": "postgres",
          "uid": "P7B13B9DF907EC40C"
        },
        "definition": "SELECT index\nFROM demand_meta\nwhere simulation in ($simulation);",
        "description": "Can choose which units we want to display ",
        "hide": 0,
        "includeAll": false,
        "label": "",
        "multi": true,
        "name": "Demand_Units",
        "options": [],
        "query": "SELECT index\nFROM demand_meta\nwhere simulation in ($simulation);",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "current": {
          "selected": true,
          "text": [
            "battery_unit",
            "storage_unit"
          ],
          "value": [
            "battery_unit",
            "storage_unit"
          ]
        },
        "datasource": {
          "type": "postgres",
          "uid": "P7B13B9DF907EC40C"
        },
        "definition": "SELECT index\nFROM storage_meta\nwhere simulation in ($simulation);",
        "description": "Can choose which storage units we want to display ",
        "hide": 0,
        "includeAll": false,
        "label": "",
        "multi": true,
        "name": "Storage_Units",
        "options": [],
        "query": "SELECT index\nFROM storage_meta\nwhere simulation in ($simulation);",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "current": {
          "selected": true,
          "text": [
            "2020_BB_dam",
            "2020_SB_dam"
          ],
          "value": [
            "2020_BB_dam",
            "2020_SB_dam"
          ]
        },
        "datasource": {
          "type": "postgres",
          "uid": "P7B13B9DF907EC40C"
        },
        "definition": "SELECT \n  simulation\nFROM power_plant_meta\ngroup by simulation;",
        "description": "Can choose which simulation we want to show ",
        "hide": 0,
        "includeAll": false,
        "multi": true,
        "name": "simulation",
        "options": [],
        "query": "SELECT \n  simulation\nFROM power_plant_meta\ngroup by simulation;",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "2019-12-31T23:00:00.000Z",
    "to": "2020-01-31T22:59:59.000Z"
  },
  "timepicker": {},
  "timezone": "",
  "title": "ASSUME Comparison Block Bids",
  "uid": "LlWPcjzSz",
  "version": 8,
  "weekStart": ""
}